画像の圧縮について調べること

- Twitterのconfig API叩く
- JPEG
 - ファイルサイズを超えている場合
  - レスポンスはどうなるのか
 - サイズが大きい場合
  - 1024x2048を越える
  - それ以下の場合
  - JPEG Compression Rateを調べる
- PNG
 - ファイルサイズを超えている場合
  - レスポンスはどうなるのか
 - サイズが大きい場合
  - 1024x2048を越える
  - それ以下の場合


- Twitterのconfig API叩く
-> ファイルサイズ、画像サイズの上限が帰ってくる
- JPEG
 - ファイルサイズを超えている場合
  -> メデイアアップロードは成功するが、status/upadte では失敗する
 - サイズが大きい場合
  - 1024x2048を越える
  - それ以下の場合
  - JPEG Compression Rateを調べる

-> 1.4MBの画像をアップロードしても518kBまで小さくなる
-> だいたい0.5くらいの compression rate で圧縮される


- PNG
 - ファイルサイズを超えている場合
  -> メデイアアップロードは成功するが、status/upadte では失敗する
 - サイズが大きい場合
  - 1024x2048を越える
  - それ以下の場合

PNGも何かしらの圧縮が行われる


制御フロー
- PNG/JPEG のファイル形式は保ってアップロードする
- 解像度が最大サイズを超える場合はcropする
- JPEGでファイルサイズを超える場合は
 - 解像度を下げる
 - compression rateを下げる
- PNGでファイルサイズを超える場合は
 - 解像度を下げる










